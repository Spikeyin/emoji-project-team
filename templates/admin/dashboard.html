{% extends "base.html" %}

{% block title %}ç®¡ç†ä¸»é¡µ{% endblock %}

{% block content %}
<div class="dashboard">
    <h1>ç®¡ç†å‘˜æ§åˆ¶é¢æ¿</h1>
    <p class="subtitle">æ¬¢è¿ï¼Œ{{ current_user.full_name or current_user.username }}</p>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-info">
                <h3>ç”¨æˆ·æ€»æ•°</h3>
                <p class="stat-value">{{ users_count }}</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">ğŸ“š</div>
            <div class="stat-info">
                <h3>è¯¾ç¨‹æ€»æ•°</h3>
                <p class="stat-value">{{ courses_count }}</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">ğŸ˜Š</div>
            <div class="stat-info">
                <h3>æœ¬å‘¨åé¦ˆæ•°</h3>
                <p class="stat-value">{{ emoji_stats.total }}</p>
            </div>
        </div>
    </div>

    <div class="content-grid">
        <div class="content-box">
            <h2>æœ¬å‘¨è¡¨æƒ…ç»Ÿè®¡</h2>
            {% if emoji_stats.emoji_stats %}
            <div class="emoji-stats">
                {% for stat in emoji_stats.emoji_stats %}
                <div class="emoji-stat-item">
                    <span class="emoji-large">{{ stat.emoji }}</span>
                    <span class="emoji-stat-name">{{ stat.emoji_name }}</span>
                    <span class="emoji-stat-count">{{ stat.count }}</span>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="empty-state">æš‚æ— æ•°æ®</p>
            {% endif %}
        </div>

        <div class="content-box">
            <h2>å¿«æ·æ“ä½œ</h2>
            <div class="quick-actions">
                {% if current_user.is_admin() %}
                <a href="{{ url_for('admin.users') }}" class="action-btn">
                    <span class="action-icon">ğŸ‘¥</span>
                    <span>ç”¨æˆ·ç®¡ç†</span>
                </a>
                {% endif %}
                <a href="{{ url_for('admin.emoji_data') }}" class="action-btn">
                    <span class="action-icon">ğŸ“Š</span>
                    <span>è¡¨æƒ…æ•°æ®</span>
                </a>
                <a href="{{ url_for('admin.statistics') }}" class="action-btn">
                    <span class="action-icon">ğŸ“ˆ</span>
                    <span>ç»Ÿè®¡åˆ†æ</span>
                </a>
                <a href="{{ url_for('admin.export') }}" class="action-btn">
                    <span class="action-icon">ğŸ’¾</span>
                    <span>å¯¼å‡ºæ•°æ®</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}